<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ ¡å›­æ´»åŠ¨å¹¿åœº</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/activities.css">
    <link rel="stylesheet" href="styles/animations.css">
</head>
<body>
    <!-- åŠ¨æ€èƒŒæ™¯ -->
    <canvas id="bgCanvas"></canvas>

    <!-- é¡µçœ‰ -->
    <header>
        <div class="logo">
            <span class="gradient-text" style="cursor: pointer;" onclick="app.showHomePage()">æ´»åŠ¨å¹¿åœº</span>
        </div>
        <nav>
            <div class="nav-left">
                <button class="nav-btn" data-page="home">é¦–é¡µ</button>
                <button class="nav-btn" data-page="activities">æ´»åŠ¨åˆ—è¡¨</button>
                <button class="nav-btn" data-page="myEvents">æˆ‘çš„æŠ¥å</button>
                <button class="nav-btn" data-page="myCreated">æˆ‘çš„åˆ›å»º</button>
            </div>
            <div class="nav-right">
                <div class="user-info">
                    <span class="user-name"></span>
                    <button class="nav-btn logout-btn" onclick="authManager.confirmLogout()">
                        <i class="logout-icon">ğŸšª</i>
                        é€€å‡ºç™»å½•
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- ä¸»é¡µé¢ -->
    <div id="homePage" class="page">
        <div class="home-container">
            <!-- ä¸­å¿ƒåœ†å½¢ -->
            <div class="center-circle">
                <span class="circle-text">æ ¡å›­æ´»åŠ¨</span>
            </div>
            
            <!-- å›´ç»•ä¸­å¿ƒçš„åŠŸèƒ½åŒº -->
            <div class="orbit-container">
                <!-- å‘å¸ƒæ´»åŠ¨ - å…­è¾¹å½¢ -->
                <div class="shape hexagon" data-action="publish">
                    <div class="content">
                        <i class="icon">âœï¸</i>
                        <span>å‘å¸ƒæ´»åŠ¨</span>
                    </div>
                </div>
                <!-- æ´»åŠ¨åˆ—è¡¨ - åœ†å½¢ -->
                <div class="shape circle" data-action="list">
                    <div class="content">
                        <i class="icon">ğŸ“‹</i>
                        <span>æ´»åŠ¨åˆ—è¡¨</span>
                    </div>
                </div>
                <!-- æˆ‘çš„æŠ¥å - è±å½¢ -->
                <div class="shape diamond" data-action="myEvents">
                    <div class="content">
                        <i class="icon">ğŸ¯</i>
                        <span>æˆ‘çš„æŠ¥å</span>
                    </div>
                </div>
                <!-- æ´»åŠ¨æœç´¢ - ä¸‰è§’å½¢ -->
                <div class="shape triangle" data-action="search">
                    <div class="content">
                        <i class="icon">ğŸ”</i>
                        <span>æœç´¢æ´»åŠ¨</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ´»åŠ¨åˆ—è¡¨é¡µé¢ -->
    <div id="activitiesPage" class="page" style="display: none;">
        <div class="activities-layout">
            <!-- å·¦ä¾§ç­›é€‰æ  -->
            <div class="filter-sidebar">
                <div class="search-box">
                    <input type="text" placeholder="æœç´¢æ´»åŠ¨..." id="searchInput">
                    <button class="search-btn">ğŸ”</button>
                </div>
                <div class="tags-filter">
                    <h3>æ´»åŠ¨ç±»å‹</h3>
                    <span class="tag active">å…¨éƒ¨</span>
                    <span class="tag">æ–‡è‰º</span>
                    <span class="tag">è¿åŠ¨</span>
                    <span class="tag">å­¦æœ¯</span>
                    <span class="tag">å…¬ç›Š</span>
                </div>
                <div class="date-filter">
                    <h3>æ—¶é—´ç­›é€‰</h3>
                    <select id="dateFilter">
                        <option value="all">å…¨éƒ¨æ—¶é—´</option>
                        <option value="today">ä»Šå¤©</option>
                        <option value="week">æœ¬å‘¨</option>
                        <option value="month">æœ¬æœˆ</option>
                    </select>
                </div>
            </div>

            <!-- å³ä¾§æ´»åŠ¨å±•ç¤ºåŒº -->
            <div class="activities-content">
                <div class="activities-header">
                    <h2>æ´»åŠ¨åˆ—è¡¨</h2>
                    <div class="view-options">
                        <button class="view-btn active" data-view="grid">ç½‘æ ¼è§†å›¾</button>
                        <button class="view-btn" data-view="list">åˆ—è¡¨è§†å›¾</button>
                    </div>
                </div>
                <div class="activities-grid" id="activitiesList">
                    <!-- æ´»åŠ¨å¡ç‰‡ç”± JavaScript åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>

    <!-- é¡µè„š -->
    <footer>
        <p>æ ¡å›­æ´»åŠ¨å¹¿åœº &copy; 2024</p>
    </footer>

    <!-- å‘å¸ƒæ´»åŠ¨æ¨¡æ€æ¡† -->
    <div class="modal" id="publishModal">
        <div class="modal-content">
            <h2>å‘å¸ƒæ–°æ´»åŠ¨</h2>
            <form id="publishForm">
                <div class="form-group">
                    <input type="text" name="title" placeholder="æ´»åŠ¨åç§°" required>
                </div>
                <div class="form-group">
                    <textarea name="description" placeholder="æ´»åŠ¨æè¿°" required></textarea>
                </div>
                <div class="form-group">
                    <input type="date" name="date" required>
                </div>
                <div class="form-group">
                    <input type="text" name="location" placeholder="æ´»åŠ¨åœ°ç‚¹" required>
                </div>
                <div class="form-group">
                    <input type="text" name="tags" placeholder="æ ‡ç­¾ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰" required>
                </div>
                <div class="form-group">
                    <label for="activityImage">æ´»åŠ¨å›¾ç‰‡</label>
                    <input type="file" name="image" id="activityImage" accept="image/*">
                </div>
                <div class="form-actions">
                    <button type="submit" class="submit-btn">å‘å¸ƒæ´»åŠ¨</button>
                    <button type="button" class="cancel-btn" onclick="app.closeModal(this.closest('.modal'))">å–æ¶ˆ</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // å®šä¹‰å…¨å±€ç”¨æˆ·å˜é‡
        const currentUser = 'testUser';
        
        // æ·»åŠ è°ƒè¯•ä¿¡æ¯
        console.log('Starting application...');
    </script>
    <script src="scripts/background.js"></script>
    <script src="scripts/animations.js"></script>
    <script src="scripts/activities.js"></script>
    <script src="scripts/main.js"></script>
    <script>
        // ç¡®ä¿æ‰€æœ‰è„šæœ¬åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM loaded, checking initialization...');
            if (!window.activityManager) {
                console.log('Creating new ActivityManager...');
                window.activityManager = new ActivityManager();
            }
            if (!window.app) {
                console.log('Creating new AppManager...');
                window.app = new AppManager();
            }
        });
    </script>
</body>
</html> 